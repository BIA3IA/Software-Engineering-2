% --------------------------------------------------------------------------
%  Specific requirements % 
% --------------------------------------------------------------------------
\section{External Interface Requirements}
\label{sec:external_interface_requirements}

\subsection{User Interfaces}
\label{subsec:user_interfaces}

\subsection{Hardware Interfaces}
\label{subsec:hardware_interfaces}

\subsection{Software Interfaces}
\label{subsec:software_interfaces}

\subsection{Communication Interfaces}
\label{subsec:communication_interfaces}

% --------------------------------------------------------------------------
%  Functional requirements % 
% --------------------------------------------------------------------------
\section{Functional Requirements}
\label{sec:functional_requirements}

\subsection{Requirements}
\label{subsec:requirements}
This subsection specifies all the functional requirements that the BBP system must fulfill to achieve the goals described in the previous chapters.
The requirements are organized according to the main functionalities of the system and are expressed in a testable form, describing what the system shall do rather than how it shall be implemented.

\begin{enumerate}
	\item \textbf{User Registration and Authentication}
	      \begin{itemize}
		      \item[\textbf{[R1]}] The system shall allow users to sign up for the application.
		      \item[\textbf{[R2]}] The system shall allow registered users to login to the application.
		      \item[\textbf{[R3]}] The system shall allow logged-in users to view their profile and account settings.
		      \item[\textbf{[R4]}] The system shall allow logged-in users to update their profile and account settings.
	      \end{itemize}
	\item \textbf{Trip Recording and Management}
	      \begin{itemize}
		      \item[\textbf{[R5]}] The system shall allow logged-in users to start recording a cycling trip.
		      \item[\textbf{[R6]}] The system shall allow logged-in users to stop recording a cycling trip.
		      \item[\textbf{[R7]}] The system shall automatically collect GPS data during trip recording.
		      \item[\textbf{[R8]}] The system shall automatically collect motion sensor data (accelerometer, gyroscope) during trip recording when available.
		      \item[\textbf{[R9]}] The system shall allow logged-in users to view a list of their recorded trips and general statistics across them.
		      \item[\textbf{[R10]}] The system shall allow logged-in users to view statistics (distance, speed, duration, metrics) about each recorded trip.
		      \item[\textbf{[R11]}] The system shall display to logged-in users the route of a trip they have taken and the obstacles encountered or reported.
	      \end{itemize}
	\item \textbf{Trip Data Enrichment}
	      \begin{itemize}
		      \item[\textbf{[R12]}] The system shall allow logged-in users to enrich trip data with meteorological information (weather, temperature, wind speed) when an external device is available.
		      \item[\textbf{[R13]}] The system shall communicate with weather services to retrieve meteorological data for trip enrichment.
	      \end{itemize}
	\item \textbf{Automatic Data Processing}
	      \begin{itemize}
		      \item[\textbf{[R14]}] The system shall detect that a user is cycling based on speed patterns from collected data.
		      \item[\textbf{[R15]}] The system shall detect irregular movements from sensor data that may suggest potholes or surface issues.
		      \item[\textbf{[R16]}] The system shall present automatically detected path and obstacle data to logged-in users for confirmation before they can be made publishable.
	      \end{itemize}
	\item \textbf{Path Information Management - Manual}
	      \begin{itemize}
		      \item[\textbf{[R17]}] The system shall allow logged-in users to manually create a new bike path by specifying street names and segments.
		      \item[\textbf{[R18]}] The system shall allow logged-in users to manually report obstacles on a bike path.
		      \item[\textbf{[R19]}] The system shall allow logged-in users to manually update the status of an existing bike path.
		      \item[\textbf{[R20]}] The system shall allow logged-in users to manually confirm or reject the presence of an obstacle reported by other users.
	      \end{itemize}
	\item \textbf{Path Information Management - Automatic}
	      \begin{itemize}
		      \item[\textbf{[R21]}] The system shall allow logged-in users to create a new bike path in automatic mode.
		      \item[\textbf{[R22]}] The system shall allow logged-in users to view a list of their submitted (manual and automatic) path reports.
		      \item[\textbf{[R23]}] The system shall allow logged-in users to make their path information (manual or confirmed automatic) publishable.
	      \end{itemize}
	\item \textbf{Path Data Aggregation and Status}
	      \begin{itemize}
		      \item[\textbf{[R24]}] The system shall aggregate multiple reports about the same path segment.
		      \item[\textbf{[R25]}] The system shall determine the most reliable path status based on report freshness and the number of confirmations.
		      \item[\textbf{[R26]}] The system shall display the current status of bike paths (optimal, medium, sufficient, requires maintenance, closed).
		      \item[\textbf{[R27]}] The system shall allow any user (logged-in or guest) to view detailed information about a specific bike path (status, obstacles, last update time).
	      \end{itemize}
	\item \textbf{Route Discovery and Search}
	      \begin{itemize}
		      \item[\textbf{[R28]}] The system shall allow any user (logged-in or guest) to browse available bike paths.
		      \item[\textbf{[R29]}] The system shall allow any user (logged-in or guest) to search for bike paths between two locations.
		      \item[\textbf{[R30]}] The system shall display bike paths on a map.
		      \item[\textbf{[R31]}] The system shall display reports and obstacles associated with public paths.
		      \item[\textbf{[R32]}] The system shall compute optimal routes considering path quality.
		      \item[\textbf{[R33]}] The system shall rank suggested paths based on their status and effectiveness.
	      \end{itemize}
	\item \textbf{Navigation}
	      \begin{itemize}
		      \item[\textbf{[R34]}] The system shall display the user's current position on the map during navigation.
	      \end{itemize}
	\item \textbf{Notifications}
	      \begin{itemize}
		      \item[\textbf{[R35]}] The system shall send pop-up notifications about obstacles along the followed path during navigation.
	      \end{itemize}
	\item \textbf{External Services Integration}
	      \begin{itemize}
		      \item[\textbf{[R36]}] The system shall interface with geographical map services for geocoding and path rendering.
		      \item[\textbf{[R37]}] The system shall interface with weather services to obtain meteorological data for trip enrichment.
	      \end{itemize}
\end{enumerate}

\subsection{Use Case Diagrams}
\label{subsec:use_case_diagrams}
This subsection illustrates the main interactions between actors and the BBP system.
Each diagram focuses on a specific actor category, distinguishing what a guest user can do from the actions reserved to logged-in users.

\subsubsection{Authentication and Profile Management}
This diagram shows how users access and manage their personal area within the system.
Guest users can register to create an account and then log in to gain full access to BBP functionalities.
Both the Register and Log-in cases include the Validate Inputs use case, ensuring that all user-provided data meet format and consistency rules.
Once authenticated, users can log out, edit their personal information, and control the visibility of their profile data.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\textwidth]{Images/Use_Case_Diagrams/register_login_uc.png}
	\caption{Authentication and Profile Management Use Case Diagram }
	\label{fig:use_case_authentication_and_profile_management}
\end{figure}

\subsubsection{Guest User Use Cases}
Guest users can freely access public information related to the available bike paths without being authenticated.
They can search for paths, browse their details, and check the overall condition of each segment.
When a user selects a path, the system retrieves and displays the corresponding aggregated condition.
Guests can also start and stop a trip, but the data is not stored or associated with a user account.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.8\textwidth]{Images/Use_Case_Diagrams/guest_uc.png}
	\caption{Guest User Use Case Diagram}
	\label{fig:use_case_guest_user}
\end{figure}

\subsubsection{Logged-in User Use Cases}
Logged-in users have access to all interactive and community features of the BBP platform.
They can create new paths manually or automatically, by recording their route or by manually adding segments.
Each new path can be saved only after passing the Validate Inputs step and may optionally be made public.
Users can also delete paths they have created.
During trip recording, data from sensors are analyzed to automatically detect anomalies; these detections trigger the Confirm/Reject Detection extension, allowing the user to verify their validity.
Users can also report path conditions manually and review other users' reports.
Once a trip is stopped, a summary enriched with weather data is generated.
Finally, users can view their activity history and per-trip or overall statistics.

\begin{figure}[H]
	\centering
	\includegraphics[width=0.9\textwidth]{Images/Use_Case_Diagrams/loggedin_uc.png}
	\caption{Logged-in User Use Case Diagram}
	\label{fig:use_case_logged_in_user}
\end{figure}

\subsubsection{Use Cases}
\label{subsubsec:use_cases}

\textbf{[UC1]} - User Registration
\begin{table}[H]
	\centering
	\label{tab:UC1}
	\begin{tabularx}{\textwidth}{|p{0.3\textwidth}|X|}
		\hline
		\textbf{Actor(s)}        & none    \\ \hline
		\textbf{Entry Condition} & none    \\ \hline
		\textbf{Event Flow}      & 1. none \\
		                         & 2. none \\
		                         & 3. none \\ \hline
		\textbf{Exit Condition}  & none    \\ \hline
		\textbf{Exceptions}      & none    \\ \hline
		\textbf{Notes}           & none    \\ \hline
	\end{tabularx}
	\caption{User Registration Process Detail}
\end{table}

% --------------------------------------------------------------------------
%  Performance requirements % 
% --------------------------------------------------------------------------
\section{Performance Requirements}
\label{sec:performance_requirements}


% --------------------------------------------------------------------------
%  Design Constraints %
% --------------------------------------------------------------------------
\section{Design Constraints}
\label{sec:design_constraints}

\subsection{Standards Compliance}
\label{subsec:standards_compliance}

\subsection{Hardware Limitations}
\label{subsec:hardware_limitations}


% --------------------------------------------------------------------------
%  Software System Attributes %
% --------------------------------------------------------------------------
\section{Software System Attributes}
\label{sec:software_system_attributes}

\subsection{Reliability}
\label{subsec:reliability}

\subsection{Availability}
\label{subsec:availability}

\subsection{Security}
\label{subsec:security}

\subsection{Maintainability}
\label{subsec:maintainability}

\subsection{Portability}
\label{subsec:portability}